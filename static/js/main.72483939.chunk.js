(this["webpackJsonpuse-screen-recording-example"]=this["webpackJsonpuse-screen-recording-example"]||[]).push([[0],{11:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(2),c=n.n(a),i=(n(11),n(3)),u=n(1),l=n.n(u);function s(e,t,n,r,o,a,c){try{var i=e[a](c),u=i.value}catch(l){return void n(l)}i.done?t(u):Promise.resolve(u).then(r,o)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){s(a,r,o,c,i,"next",e)}function i(e){s(a,r,o,c,i,"throw",e)}c(void 0)}))}}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(u){o=!0,a=u}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v={audio:!1,video:{cursor:"always"}};var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.displayMediaOptions,n=void 0===t?v:t,o=e.onEnd,a=void 0===o?function(){}:o,c=e.onError,i=void 0===c?function(){}:c,u=e.onStart,s=void 0===u?function(){}:u,m=Object(r.useState)(null),p=f(m,2),y=p[0],b=p[1],g=Object(r.useState)(null),h=f(g,2),w=h[0],E=h[1],R=Object(r.useState)(null),S=f(R,2),j=S[0],O=S[1],k=Object(r.useState)(!1),x=f(k,2),U=x[0],A=x[1],L=function(){try{A(!1),j.stop(),y.getTracks().forEach((function(e){return e.stop()}))}catch(e){i(e),E(e)}},C=function(){var e=d(l.a.mark((function e(){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getDisplayMedia(n);case 3:t=e.sent,A(!0),t.getTracks().forEach((function(e){e.onended=L})),b(t),(r=new MediaRecorder(t)).ondataavailable=a,r.start(),O(r),s({stream:t,recorder:r}),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(0),A(!1),i(e.t0),E(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),I=function(){return U?L():C()};return{captureStream:y,error:w,mediaRecorder:j,recording:U,startRecording:C,stopRecording:L,toggleRecording:I}};function y(){var e=p({onEnd:function(e){return u(e.data)}}),t=e.recording,n=e.toggleRecording,r=o.a.useState(),a=Object(i.a)(r,2),c=a[0],u=a[1],l=c&&URL.createObjectURL(c);return o.a.createElement("div",{className:"root"},o.a.createElement("h1",null,"React Hook"),o.a.createElement("h2",null,"useScreenRecording"),o.a.createElement("div",{className:"menu"},o.a.createElement("button",{onClick:n},t?"Stop":l?"Retry":"Start Recording"),!!l&&o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{onClick:function(){return function(e){var t=new Blob(e,{type:"video/mp4"}),n=URL.createObjectURL(t),r=document.createElement("a");document.body.appendChild(r),r.style="display: none",r.href=n,r.download="test.mp4",r.click(),window.URL.revokeObjectURL(n)}(l)}},"Download"),o.a.createElement("video",{autoPlay:!0,className:"video",src:l}))))}c.a.render(o.a.createElement(y,null),document.getElementById("root"))},4:function(e,t,n){e.exports=n(13)}},[[4,1,2]]]);
//# sourceMappingURL=main.72483939.chunk.js.map